/*
 * stm32l552.h
 *
 *  Created on: May 15, 2025
 *      Author: Arie
 */

#ifndef STM32L552_H_
#define STM32L552_H_

#define GPIOA_BASE_ADDR   (0x42020000UL)
#define GPIOB_BASE_ADDR   (0x42020400UL)
#define GPIOC_BASE_ADDR   (0x42020800UL)
#define GPIOD_BASE_ADDR   (0x42020C00UL)
#define GPIOE_BASE_ADDR   (0x42021000UL)
#define GPIOF_BASE_ADDR   (0x42021400UL)
#define GPIOG_BASE_ADDR   (0x42021800UL)
#define GPIOH_BASE_ADDR   (0x42021C00UL)
#define RCC_BASE_ADDR 	  (0x40021000UL)

// GPIO port mode register (GPIOx_MODER) (x =A to H):
typedef struct {
    volatile uint32_t MODER0 : 2;
    volatile uint32_t MODER1 : 2;
    volatile uint32_t MODER2 : 2;
    volatile uint32_t MODER3 : 2;
    volatile uint32_t MODER4 : 2;
    volatile uint32_t MODER5 : 2;
    volatile uint32_t MODER6 : 2;
    volatile uint32_t MODER7 : 2;
    volatile uint32_t MODER8 : 2;
    volatile uint32_t MODER9 : 2;
    volatile uint32_t MODER10 : 2;
    volatile uint32_t MODER11 : 2;
    volatile uint32_t MODER12 : 2;
    volatile uint32_t MODER13 : 2;
    volatile uint32_t MODER14 : 2;
    volatile uint32_t MODER15 : 2;
} GPIO_MODER_BitField;

#define INPUT_MODE 0b00
#define OUTPUT_MODE 0b01
#define ALTERNATE_MODE 0b10
#define ANALOG_MODE 0b11

// GPIO port output type register (GPIOx_OTYPER) (x = A to H):
typedef struct {
    volatile uint32_t OT0 : 1;       // Pin 0 output type
    volatile uint32_t OT1 : 1;       // Pin 1 output type
    volatile uint32_t OT2 : 1;       // Pin 2 output type
    volatile uint32_t OT3 : 1;       // Pin 3 output type
    volatile uint32_t OT4 : 1;       // Pin 4 output type
    volatile uint32_t OT5 : 1;       // Pin 5 output type
    volatile uint32_t OT6 : 1;       // Pin 6 output type
    volatile uint32_t OT7 : 1;       // Pin 7 output type
    volatile uint32_t OT8 : 1;       // Pin 8 output type
    volatile uint32_t OT9 : 1;       // Pin 9 output type
    volatile uint32_t OT10 : 1;      // Pin 10 output type
    volatile uint32_t OT11 : 1;      // Pin 11 output type
    volatile uint32_t OT12 : 1;      // Pin 12 output type
    volatile uint32_t OT13 : 1;      // Pin 13 output type
    volatile uint32_t OT14 : 1;      // Pin 14 output type
    volatile uint32_t OT15 : 1;      // Pin 15 output type
    volatile uint32_t RESERVED : 16; // Reserved bits 16-31
} GPIO_OTYPER_BitField;

#define OUTPUT_PUSH_PULL 0b0
#define OUTPUT_OPEN_DRAIN 0b1

// GPIO port output speed register (GPIOx_OSPEEDR) (x = A to H):
typedef struct {
    volatile uint32_t OSPEEDR0 : 2;  // Pin 0 output speed
    volatile uint32_t OSPEEDR1 : 2;  // Pin 1 output speed
    volatile uint32_t OSPEEDR2 : 2;  // Pin 2 output speed
    volatile uint32_t OSPEEDR3 : 2;  // Pin 3 output speed
    volatile uint32_t OSPEEDR4 : 2;  // Pin 4 output speed
    volatile uint32_t OSPEEDR5 : 2;  // Pin 5 output speed
    volatile uint32_t OSPEEDR6 : 2;  // Pin 6 output speed
    volatile uint32_t OSPEEDR7 : 2;  // Pin 7 output speed
    volatile uint32_t OSPEEDR8 : 2;  // Pin 8 output speed
    volatile uint32_t OSPEEDR9 : 2;  // Pin 9 output speed
    volatile uint32_t OSPEEDR10 : 2; // Pin 10 output speed
    volatile uint32_t OSPEEDR11 : 2; // Pin 11 output speed
    volatile uint32_t OSPEEDR12 : 2; // Pin 12 output speed
    volatile uint32_t OSPEEDR13 : 2; // Pin 13 output speed
    volatile uint32_t OSPEEDR14 : 2; // Pin 14 output speed
    volatile uint32_t OSPEEDR15 : 2; // Pin 15 output speed
} GPIO_OSPEEDR_BitField;

#endif /* STM32L552_H_ */
